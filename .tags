!_TAG_FILE_FORMAT	2	/extended format; --format=1 will not append ;" to lines/
!_TAG_FILE_SORTED	1	/0=unsorted, 1=sorted, 2=foldcase/
!_TAG_PROGRAM_AUTHOR	Darren Hiebert	/dhiebert@users.sourceforge.net/
!_TAG_PROGRAM_NAME	Exuberant Ctags	//
!_TAG_PROGRAM_URL	http://ctags.sourceforge.net	/official site/
!_TAG_PROGRAM_VERSION	5.8	//
$.blockUI	.\js\jquery.blockUI.js	/^		$.blockUI   = function(opts) { install(window, opts); };$/;"	f
$.blockUI.defaults.css	.\js\jquery.blockUI.js	/^			css: {$/;"	p
$.blockUI.defaults.draggable	.\js\jquery.blockUI.js	/^			draggable: true,	\/\/ only used when theme == true (requires jquery-ui.js to be loaded)$/;"	p
$.blockUI.defaults.message	.\js\jquery.blockUI.js	/^			message:  '<h1>Please wait...<\/h1>',$/;"	p
$.blockUI.defaults.theme	.\js\jquery.blockUI.js	/^			theme: false, \/\/ set to true to use with jQuery UI themes$/;"	p
$.blockUI.defaults.title	.\js\jquery.blockUI.js	/^			title: null,		\/\/ title string; only used when theme == true$/;"	p
$.fn.block	.\js\jquery.blockUI.js	/^		$.fn.block = function(opts) {$/;"	c
$.fn.unblock	.\js\jquery.blockUI.js	/^		$.fn.unblock = function(opts) {$/;"	f
$.growlUI	.\js\jquery.blockUI.js	/^		$.growlUI = function(title, message, timeout, onClose) {$/;"	f
$.unblockUI	.\js\jquery.blockUI.js	/^		$.unblockUI = function(opts) { remove(window, opts); };$/;"	f
ACHEIVEMENTS	.\Models.py	/^ACHEIVEMENTS = set([UNLOCKED_MEDIUM, UNLOCKED_HARD])$/;"	v
AES	.\utils.py	/^        from Crypto.Cipher import AES$/;"	i
ALPHANUMERIC_REGEXP	.\utils.py	/^ALPHANUMERIC_REGEXP = "^\\w+$"$/;"	v
AboutHandler	.\main.py	/^class AboutHandler(BaseHandler):$/;"	c
Achievement	.\Models.py	/^class Achievement(ndb.Model):$/;"	c
AchievementsHandler	.\main.py	/^class AchievementsHandler(BaseHandler):$/;"	c
AppTest	.\tests\systest.py	/^class AppTest(unittest.TestCase, test_helpers.HandlerHelpers):$/;"	c
Array	.\js\wordutils.js	/^Array.prototype.shuffle = function () {$/;"	c
Array	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	c
Array.shuffle	.\js\wordutils.js	/^Array.prototype.shuffle = function () {$/;"	m
Array.shuffle	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	m
BaseHandler	.\main.py	/^class BaseHandler(webapp2.RequestHandler):$/;"	c
Browser	.\tests\splintertest.py	/^from splinter import Browser$/;"	i
BuyHandler	.\main.py	/^class BuyHandler(BaseHandler):$/;"	c
COUNTRIES	.\utils.py	/^COUNTRIES = [$/;"	v
CampaignHandler	.\main.py	/^class CampaignHandler(BaseHandler):$/;"	c
ContactHandler	.\main.py	/^class ContactHandler(BaseHandler):$/;"	c
Cookie	.\utils.py	/^import Cookie$/;"	i
DIFFICULTIES	.\Models.py	/^DIFFICULTIES = set([EASY, MEDIUM, HARD])$/;"	v
DecodeError	.\jwt\__init__.py	/^class DecodeError(Exception): pass$/;"	c
EASY	.\Models.py	/^EASY = 2$/;"	v
EASY	.\js\game-with-friends.js	/^var EASY = 2;$/;"	v
EASY	.\js\game.js	/^var EASY = 2;$/;"	v
EMAIL_REGEXP	.\utils.py	/^EMAIL_REGEXP = "^.+\\\\@(\\\\[?)[a-zA-Z0-9\\\\-\\\\.]+\\\\.([a-zA-Z]{2,4}|[0-9]{1,3})(\\\\]?)$"$/;"	v
EnglishLevel	.\Models.py	/^class EnglishLevel(object):$/;"	c
EnglishLevelHandler	.\main.py	/^class EnglishLevelHandler(BaseHandler):$/;"	c
FACEBOOK_APP_ID	.\main.py	/^FACEBOOK_APP_ID = "138831849632195"$/;"	v
FACEBOOK_APP_SECRET	.\main.py	/^FACEBOOK_APP_SECRET = "93986c9cdd240540f70efaea56a9e3f2"$/;"	v
FbHandler	.\main.py	/^class FbHandler(BaseHandler):$/;"	c
FriendsHandler	.\main.py	/^class FriendsHandler(BaseHandler):$/;"	c
GameMultiplayerHandler	.\main.py	/^class GameMultiplayerHandler(BaseHandler):$/;"	c
GamesHandler	.\main.py	/^class GamesHandler(BaseHandler):$/;"	c
GraphAPI	.\facebook.py	/^class GraphAPI(object):$/;"	c
GraphAPIError	.\facebook.py	/^class GraphAPIError(Exception):$/;"	c
HARD	.\Models.py	/^HARD = 4$/;"	v
HARD	.\js\game-with-friends.js	/^var HARD = 4;$/;"	v
HARD	.\js\game.js	/^var HARD = 4;$/;"	v
HandlerHelpers	.\tests\test_helpers.py	/^class HandlerHelpers():$/;"	c
HighScore	.\Models.py	/^class HighScore(ndb.Model):$/;"	c
IPNHandler	.\main.py	/^from paypal import IPNHandler$/;"	i
IPNHandler	.\paypal.py	/^class IPNHandler(webapp2.RequestHandler):$/;"	c
IsGoldHandler	.\main.py	/^class IsGoldHandler(BaseHandler):$/;"	c
JINJA_ENVIRONMENT	.\main.py	/^JINJA_ENVIRONMENT = jinja2.Environment($/;"	v
LEARN_ENGLISH_LEVELS	.\Models.py	/^LEARN_ENGLISH_LEVELS = {$/;"	v
LEVELS	.\Models.py	/^LEVELS = [$/;"	v
LearnEnglishHandler	.\main.py	/^class LearnEnglishHandler(BaseHandler):$/;"	c
Level	.\Models.py	/^class Level(object):$/;"	c
LevelHandler	.\main.py	/^class LevelHandler(BaseHandler):$/;"	c
LogoutHandler	.\main.py	/^class LogoutHandler(BaseHandler):$/;"	c
MEDIUM	.\Models.py	/^MEDIUM = 3$/;"	v
MEDIUM	.\js\game-with-friends.js	/^var MEDIUM = 3;$/;"	v
MEDIUM	.\js\game.js	/^var MEDIUM = 3;$/;"	v
MainHandler	.\main.py	/^class MainHandler(BaseHandler):$/;"	c
Mock	.\tests\systest.py	/^from mock import Mock$/;"	i
Postback	.\Models.py	/^class Postback(ndb.Model):$/;"	c
PostbackHandler	.\main.py	/^class PostbackHandler(BaseHandler):$/;"	c
PrivacyHandler	.\main.py	/^class PrivacyHandler(BaseHandler):$/;"	c
RECEIVER_EMAIL	.\paypal.py	/^RECEIVER_EMAIL = 'name@example.com'$/;"	v
RECEIVER_ID	.\paypal.py	/^RECEIVER_ID = 'xxxxxxxx'$/;"	v
SDK_PATH	.\tests\testrunner.py	/^SDK_PATH = "\/usr\/local\/google_appengine"$/;"	v
SELLER_ID	.\main.py	/^from sellerinfo import SELLER_ID$/;"	i
SELLER_ID	.\sellerinfo.py	/^SELLER_ID = 1234$/;"	v
SELLER_SECRET	.\main.py	/^from sellerinfo import SELLER_SECRET$/;"	i
SELLER_SECRET	.\sellerinfo.py	/^SELLER_SECRET = '1234test'/;"	v
SaveDifficultyHandler	.\main.py	/^class SaveDifficultyHandler(BaseHandler):$/;"	c
SaveLevelsUnlockedHandler	.\main.py	/^class SaveLevelsUnlockedHandler(BaseHandler):$/;"	c
SaveMuteHandler	.\main.py	/^class SaveMuteHandler(BaseHandler):$/;"	c
SaveVolumeHandler	.\main.py	/^class SaveVolumeHandler(BaseHandler):$/;"	c
Score	.\Models.py	/^class Score(ndb.Model):$/;"	c
ScoresHandler	.\main.py	/^class ScoresHandler(BaseHandler):$/;"	c
SitemapHandler	.\main.py	/^class SitemapHandler(webapp2.RequestHandler):$/;"	c
SplinterTest	.\tests\splintertest.py	/^class SplinterTest(unittest.TestCase):$/;"	c
String	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	c
TEST_PATH	.\tests\testrunner.py	/^TEST_PATH = "."$/;"	v
TermsHandler	.\main.py	/^class TermsHandler(BaseHandler):$/;"	c
TimedHandler	.\main.py	/^class TimedHandler(BaseHandler):$/;"	c
UNLOCKED_HARD	.\Models.py	/^UNLOCKED_HARD = 2$/;"	v
UNLOCKED_MEDIUM	.\Models.py	/^UNLOCKED_MEDIUM = 1$/;"	v
USAGE	.\tests\testrunner.py	/^USAGE = "runs tests"$/;"	v
User	.\Models.py	/^class User(ndb.Model):$/;"	c
User	.\paypal.py	/^from Models import User$/;"	i
__all__	.\jwt\__init__.py	/^__all__ = ['encode', 'decode', 'DecodeError']$/;"	v
__init__	.\Models.py	/^    def __init__(self, blocked_spaces, locked_spaces =[]):$/;"	m	class:Level
__init__	.\Models.py	/^    def __init__(self, urlkey, required_words):$/;"	m	class:EnglishLevel
__init__	.\facebook.py	/^    def __init__(self, access_token=None, timeout=None):$/;"	m	class:GraphAPI
__init__	.\facebook.py	/^    def __init__(self, result):$/;"	m	class:GraphAPIError
_encode_multipart_form	.\facebook.py	/^    def _encode_multipart_form(self, fields):$/;"	m	class:GraphAPI
_parse_json	.\facebook.py	/^_parse_json = json.loads$/;"	v
access_token	.\Models.py	/^    access_token = ndb.StringProperty()$/;"	v	class:User
activate_user	.\tests\test_helpers.py	/^    def activate_user(self, user, use_activation_email=True):$/;"	m	class:HandlerHelpers
addGrowersTo	.\js\game-with-friends.js	/^function addGrowersTo(gamedatalist) {$/;"	f
addGrowersTo	.\js\game.js	/^function addGrowersTo(gamedatalist) {$/;"	f
app	.\main.py	/^app = ndb.toplevel(webapp2.WSGIApplication([$/;"	v
assert_error_message_in_response	.\tests\test_helpers.py	/^    def assert_error_message_in_response(self, response, message=''):$/;"	m	class:HandlerHelpers
assert_no_error_message_in_response	.\tests\test_helpers.py	/^    def assert_no_error_message_in_response(self, response):$/;"	m	class:HandlerHelpers
assert_success_message_in_response	.\tests\test_helpers.py	/^    def assert_success_message_in_response(self, response, message=''):$/;"	m	class:HandlerHelpers
assert_user_logged_in	.\tests\test_helpers.py	/^    def assert_user_logged_in(self, user_id=None):$/;"	m	class:HandlerHelpers
assert_user_not_logged_in	.\tests\test_helpers.py	/^    def assert_user_not_logged_in(self):$/;"	m	class:HandlerHelpers
assert_warning_message_in_response	.\tests\test_helpers.py	/^    def assert_warning_message_in_response(self, response, message=''):$/;"	m	class:HandlerHelpers
auth	.\tests\test_helpers.py	/^from webapp2_extras import auth$/;"	i
auth_url	.\facebook.py	/^def auth_url(app_id, canvas_url, perms=None, **kwargs):$/;"	f
b	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	f
b	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	c
b.c	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	c
b.c.d	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	f
b.c.e	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	f
b.c.f	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	f
b.c.g	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	f
b.c.g.c	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	f
b.c.g.h	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	f
base64	.\facebook.py	/^import base64$/;"	i
base64	.\jwt\__init__.py	/^import base64$/;"	i
base64url_decode	.\jwt\__init__.py	/^def base64url_decode(input):$/;"	f
base64url_encode	.\jwt\__init__.py	/^def base64url_encode(input):$/;"	f
bind	.\js\jquery.blockUI.js	/^		function bind(b, el, opts) {$/;"	f
blocked_spaces	.\Models.py	/^    blocked_spaces = []$/;"	v	class:Level
buyFor	.\Models.py	/^    def buyFor(self,userid):$/;"	m	class:User
byId	.\Models.py	/^    def byId(self,id):$/;"	m	class:User
byToken	.\Models.py	/^    def byToken(self,token):$/;"	m	class:User
c	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	f
canWinViaRequiredWords	.\js\game.js	/^var canWinViaRequiredWords = false;$/;"	v
cb2	.\js\jquery.blockUI.js	/^				var cb2 = msg ? cb : noOp;$/;"	v
cdf.String	.\js\wordutils.js	/^String.prototype.reverse=function(){return this.split("").reverse().join("");}/;"	c
cdf.cdf.String.reverse	.\js\wordutils.js	/^String.prototype.reverse=function(){return this.split("").reverse().join("");}/;"	m
cdf.getRandomLetter	.\js\wordutils.js	/^function getRandomLetter() {$/;"	f
cdf.getRandomLetter	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
center	.\js\jquery.blockUI.js	/^		function center(el, x, y) {$/;"	f
cgi	.\facebook.py	/^import cgi$/;"	i
changeDifficulty	.\js\game-with-friends.js	/^function changeDifficulty(newDifficulty){$/;"	f
changeDifficulty	.\js\game.js	/^function changeDifficulty(newDifficulty){$/;"	f
chunks	.\utils.py	/^def chunks(list, size):$/;"	f
comboCounter	.\js\game-with-friends.js	/^var comboCounter = 0;$/;"	v
comboCounter	.\js\game.js	/^var comboCounter = 0;$/;"	v
comboCounter2	.\js\game-with-friends.js	/^var comboCounter2 = 0;$/;"	v
config	.\main.py	/^config = {}$/;"	v
cookie_user	.\Models.py	/^    cookie_user = ndb.IntegerProperty()$/;"	v	class:User
created	.\Models.py	/^    created = ndb.DateTimeProperty(auto_now_add=True)$/;"	v	class:User
currencyCode	.\Models.py	/^    currencyCode = ndb.StringProperty()$/;"	v	class:Postback
current_user	.\main.py	/^    def current_user(self):$/;"	m	class:BaseHandler
d.	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	m
d.e	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	f
d.f	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	c
d.f.this.items.isEditable	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	p
d.f.this.items.key	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	p
d.f.this.items.value	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	p
da_DK	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	p
datetime	.\Models.py	/^import datetime$/;"	i
datetime	.\utils.py	/^from datetime import datetime, timedelta$/;"	i
debug	.\ws.py	/^    debug = os.environ.get('SERVER_SOFTWARE', '').startswith('Development\/')$/;"	v	class:ws
decode	.\jwt\__init__.py	/^def decode(jwt, key='', verify=True):$/;"	f
decode	.\utils.py	/^def decode(encodedMsg):$/;"	f
delete_object	.\facebook.py	/^    def delete_object(self, id):$/;"	m	class:GraphAPI
delete_request	.\facebook.py	/^    def delete_request(self, user_id, request_id):$/;"	m	class:GraphAPI
dev_appserver	.\tests\testrunner.py	/^    import dev_appserver$/;"	i
difficulty	.\Models.py	/^    difficulty = ndb.IntegerProperty()$/;"	v	class:User
difficulty	.\Models.py	/^    difficulty = ndb.IntegerProperty(default=2)$/;"	v	class:HighScore
difficulty	.\Models.py	/^    difficulty = ndb.IntegerProperty(default=2)$/;"	v	class:Score
dispatch	.\main.py	/^    def dispatch(self):$/;"	m	class:BaseHandler
email	.\Models.py	/^    email = ndb.StringProperty()$/;"	v	class:User
encode	.\jwt\__init__.py	/^def encode(payload, key, algorithm='HS256'):$/;"	f
encode	.\utils.py	/^def encode(plainText):$/;"	f
execute_tasks	.\tests\test_helpers.py	/^    def execute_tasks(self, url=None, queue_name='default', expect_tasks=1):$/;"	m	class:HandlerHelpers
expr	.\js\jquery.blockUI.js	/^			var expr = setExpr && (!$.support.boxModel || $('object,embed', full ? null : el).length > 0);$/;"	v
extend_access_token	.\facebook.py	/^    def extend_access_token(self, app_id, app_secret):$/;"	m	class:GraphAPI
extensions	.\main.py	/^    extensions=['jinja2.ext.autoescape'])$/;"	v
f	.\js\social-likes.min.js	/^!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){this.container=a,this.init()}function c(b,c){this.widget=b,this.options=a.extend({},c),this.detectService(),this.service&&this.init()}function d(a,b){return e(a,b,encodeURIComponent)}function e(a,b,c){return a.replace(\/\\{([^\\}]+)\\}\/g,function(a,d){return d in b?c?c(b[d]):b[d]:a})}function f(a,b){var c=i+a;return c+" "+c+"_"+b}function g(b){function c(f){"keydown"===f.type&&27!==f.which||a(f.target).closest(b).length||(b.fadeOut(j),d.off(e,c))}var d=a(document),e="click touchstart keydown";d.on(e,c)}function h(a,b){if(document.documentElement.getBoundingClientRect){var c=parseInt(a.css("left"),10),d=parseInt(a.css("top"),10);a.css("visibility","hidden").show();var e=a[0].getBoundingClientRect();e.left<b?a.css("left",b-e.left+c):e.right>window.innerWidth-b&&a.css("left",window.innerWidth-e.right-b+c),e.top<b?a.css("top",b-e.top+d):e.bottom>window.innerHeight-b&&a.css("top",window.innerHeight-e.bottom-b+d),a.hide().css("visibility","visible")}a.fadeIn(j)}var i="social-likes__",j="fast",k={facebook:{counterUrl:"http:\/\/graph.facebook.com\/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(a){return a.data[0].total_count},popupUrl:"http:\/\/www.facebook.com\/sharer\/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http:\/\/urls.api.twitter.com\/1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/twitter.com\/intent\/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return\/[\\.:\\-–—]\\s*$\/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http:\/\/connect.mail.ru\/share_count?url_list={url}&callback=1&func=?",convertNumber:function(a){for(var b in a)if(a.hasOwnProperty(b))return a[b].shares},popupUrl:"http:\/\/connect.mail.ru\/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http:\/\/vkontakte.ru\/share.php?act=count&url={url}&index={index}",counter:function(b,c){var e=k.vkontakte;e._||(e._=[],window.VK||(window.VK={}),window.VK.Share={count:function(a,b){e._[a].resolve(b)}});var f=e._.length;e._.push(c),a.ajax({url:d(b,{index:f}),dataType:"jsonp"})},popupUrl:"http:\/\/vk.com\/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=shareData&ref={url}&cb=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https:\/\/plus.google.com\/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var b=this._livejournalForm;if(!b){var c=this.options.pageHtml.replace(\/&\/g,"&amp;").replace(\/"\/g,"&quot;");b=a(e('<form action="http:\/\/www.livejournal.com\/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"><\/form>',{title:this.options.pageTitle,html:c})),this.widget.append(b),this._livejournalForm=b}b.submit()}},pinterest:{counterUrl:"http:\/\/api.pinterest.com\/v1\/urls\/count.json?url={url}&callback=?",convertNumber:function(a){return a.count},popupUrl:"http:\/\/pinterest.com\/pin\/create\/button\/?url={url}&description={title}",popupWidth:630,popupHeight:270}},l={promises:{},fetch:function(b,c,e){l.promises[b]||(l.promises[b]={});var f=l.promises[b];if(f[c])return f[c];var g=a.extend({},k[b],e),h=a.Deferred(),i=g.counterUrl&&d(g.counterUrl,{url:c});return a.isFunction(g.counter)?g.counter(i,h):g.counterUrl&&a.getJSON(i).done(function(b){try{var c=b;a.isFunction(g.convertNumber)&&(c=g.convertNumber(b)),h.resolve(c)}catch(d){h.reject(d)}}),f[c]=h.promise(),f[c]}};a.fn.socialLikes=function(){return this.each(function(){new b(a(this))})},b.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"<\/a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(a){return"yes"===a}}},init:function(){this.container.addClass("social-likes"),this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",a.proxy(this.updateCounter,this)));var b=this.options;this.container.find("li").each(function(){new c(a(this),b)})},readOptions:function(){this.options={};for(var b in this.optionsMap){var c=this.optionsMap[b];this.options[b]=this.container.data(c.attr)||(a.isFunction(c.defaultValue)?a.proxy(c.defaultValue,this)():c.defaultValue),a.isFunction(c.convert)&&(this.options[b]=c.convert(this.options[b]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&a.extend(k,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var b=this.container;b.addClass("social-likes_vertical"),b.wrap(a("<div>",{"class":"social-likes_single-w"}));var c=b.parent(),d=parseInt(b.css("left"),10),e=parseInt(b.css("top"),10);b.hide();var k=a("<div>",{"class":f("button","single"),text:b.data("single-title")||"Share"});k.prepend(a("<span>",{"class":f("icon","single")})),c.append(k);var l=a("<li>",{"class":i+"close",html:"&times;"});b.append(l),this.number=0,k.click(function(){return b.css({left:d,top:e}),h(b,20),g(b),!1}),l.click(function(){b.fadeOut(j)}),this.wrapper=c},updateCounter:function(a,b){b&&(this.number+=b,this.getCounterElem().text(this.number))},getCounterElem:function(){var b=this.wrapper.find("."+i+"counter_single");return b.length||(b=a("<span>",{"class":f("counter","single")}),this.wrapper.append(b)),b}},c.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var b=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};l.fetch(this.service,this.options.pageUrl,b).done(a.proxy(this.updateCounter,this))}},detectService:function(){for(var b=this.widget[0].classList||this.widget[0].className.split(" "),c=0;c<b.length;c++){var d=b[c];if(k[d])return this.service=d,a.extend(this.options,k[d]),void 0}},detectParams:function(){var a=this.widget.data("counter");if(a){var b=parseInt(a,10);isNaN(b)?this.options.counterUrl=a:this.options.counterNumber=b}var c=this.widget.data("title");c&&(this.options.pageTitle=c);var d=this.widget.data("url");d&&(this.options.pageUrl=d)},initHtml:function(){var b=this.options,c=this.widget,e=!!b.clickUrl;c.removeClass(this.service),c.addClass(this.getElementClassNames("widget"));var f=c.find("a");f.length&&this.cloneDataAttrs(f,c);var g=a(e?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:c.text()});if(e){var h=d(b.clickUrl,{url:b.pageUrl,title:b.pageTitle});g.attr("href",h)}else g.click(a.proxy(this.click,this));g.prepend(a("<span>",{"class":this.getElementClassNames("icon")})),c.empty().append(g),this.button=g},cloneDataAttrs:function(a,b){var c=a.data();for(var d in c)c.hasOwnProperty(d)&&b.data(d,c[d])},getElementClassNames:function(a){return f(a,this.service)},updateCounter:function(b){if(b=parseInt(b,10)){var c=a("<span>",{"class":this.getElementClassNames("counter"),text:b});this.widget.append(c),this.widget.trigger("counter.social-likes",b)}},click:function(b){var c=this.options,e=!0;if(a.isFunction(c.click)&&(e=c.click.call(this,b)),e){var f=d(c.popupUrl,{url:c.pageUrl,title:c.pageTitle});f=this.addAdditionalParamsToUrl(f),this.openPopup(f,{width:c.popupWidth,height:c.popupHeight})}return!1},addAdditionalParamsToUrl:function(b){var c=a.param(this.widget.data());if(!c)return b;var d=-1===b.indexOf("?")?"?":"&";return b+d+c},openPopup:function(a,b){var c=Math.round(screen.width\/2-b.width\/2),d=0;screen.height>b.height&&(d=Math.round(screen.height\/3-b.height\/2));var e=window.open(a,"sl_"+this.service,"left="+c+",top="+d+","+"width="+b.width+",height="+b.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");e?e.focus():location.href=a}},a(function(){a(".social-likes").socialLikes()})});/;"	v
facebook	.\main.py	/^import facebook$/;"	i
fb_login	.\macros.html	/^function fb_login(){$/;"	f
fb_logout	.\macros.html	/^function fb_logout(){$/;"	f
focus	.\js\jquery.blockUI.js	/^		function focus(back) {$/;"	f
fql	.\facebook.py	/^    def fql(self, query, args=None, post_args=None):$/;"	m	class:GraphAPI
function.addToScore	.\js\game-with-friends.js	/^function addToScore(newScore) {$/;"	f
function.d	.\js\paypal-button.min.js	/^if("undefined"==typeof PAYPAL||!PAYPAL)var PAYPAL={};PAYPAL.apps=PAYPAL.apps||{},function(a){"use strict";function b(){var b,c,d,e;a.getElementById("paypal-button")||(b="",c=a.createElement("style"),d=".paypal-button",e=d+" button",b+=d+" { white-space: nowrap; }",b+=e+' { white-space: nowrap; overflow: hidden; border-radius: 13px; font-family: "Arial", bold, italic; font-weight: bold; font-style: italic; border: 1px solid #ffa823; color: #0E3168; background: #ffa823; position: relative; text-shadow: 0 1px 0 rgba(255,255,255,.5); cursor: pointer; z-index: 0; }',b+=e+':before { content: " "; position: absolute; width: 100%; height: 100%; border-radius: 11px; top: 0; left: 0; background: #ffa823; background: -webkit-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -moz-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: -ms-linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); background: linear-gradient(top, #FFAA00 0%,#FFAA00 80%,#FFF8FC 100%); z-index: -2; }',b+=e+':after { content: " "; position: absolute; width: 98%; height: 60%; border-radius: 40px 40px 38px 38px; top: 0; left: 0; background: -webkit-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -moz-linear-gradient(top, #fefefe 0%, #fed994 100%); background: -ms-linear-gradient(top, #fefefe 0%, #fed994 100%); background: linear-gradient(top, #fefefe 0%, #fed994 100%); z-index: -1; -webkit-transform: translateX(1%);-moz-transform: translateX(1%); -ms-transform: translateX(1%); transform: translateX(1%); }',b+=e+".small { padding: 3px 15px; font-size: 12px; }",b+=e+".large { padding: 4px 19px; font-size: 14px; }",c.type="text\/css",c.id="paypal-button",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c))}function c(b,c){var d,e,f,i,j,k,m,n,o,p=a.createElement("form"),q=a.createElement("button"),r=a.createElement("input"),s=b.items;p.method="post",p.action=h.replace("{env}",b.items.env.value),p.className="paypal-button",p.target="_top",r.type="hidden",k=s.size&&s.size.value||"large",m=s.lc&&s.lc.value||"en_US",n=l[m]||l.en_US;for(j in s)d=s[j],d.isEditable?(i=a.createElement("input"),i.type="text",i.className="paypal-input",i.name=d.key,i.value=d.value,f=a.createElement("label"),f.className="paypal-label",f.appendChild(a.createTextNode(g.config.labels[d.key]||n[d.key])),f.appendChild(i),e=a.createElement("p"),e.className="paypal-group",e.appendChild(f)):(i=e=r.cloneNode(!0),i.name=d.key,i.value=d.value),p.appendChild(e);try{q.type="submit"}catch(t){q.setAttribute("type","submit")}return q.className="paypal-button "+k,q.appendChild(a.createTextNode(n[c])),p.appendChild(q),(o=PAYPAL.apps.MiniCart)&&"_cart"===b.items.cmd.value&&(o.UI.itemList||o.render(),o.bindForm(p)),p}function d(b,c){var d,e,f=h.replace("{env}",b.items.env.value),g=a.createElement("img"),j=f+"?",k=13,l=b.items;c=c&&c.value||250;for(e in l)d=l[e],j+=d.key+"="+encodeURIComponent(d.value)+"&";return j=encodeURIComponent(j),g.src=i.replace("{env}",b.items.env.value).replace("{url}",j).replace("{pattern}",k).replace("{size}",c),g}function e(a){var b,c,d,e,f,g={};if(b=a.attributes)for(f=0,e=b.length;e>f;f++)c=b[f],(d=c.name.match(\/^data-([a-z0-9_]+)(-editable)?\/i))&&(g[d[1]]={value:c.value,isEditable:!!d[2]});return g}function f(){this.items={},this.add=function(a,b,c){this.items[a]={key:a,value:b,isEditable:c}},this.remove=function(a){delete this.items[a]}}var g={},h="https:\/\/{env}.paypal.com\/cgi-bin\/webscr",i="https:\/\/{env}.paypal.com\/webapps\/ppint\/qrcode?data={url}&pattern={pattern}&height={size}",j="JavaScriptButton_{type}",k={name:"item_name",number:"item_number",locale:"lc",currency:"currency_code",recurrence:"p3",period:"t3",callback:"notify_url"},l={da_DK:{buynow:"Køb nu",cart:"Læg i indkøbsvogn",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Pris",quantity:"Antal"},de_DE:{buynow:"Jetzt kaufen",cart:"In den Warenkorb",donate:"Spenden",subscribe:"Abonnieren",item_name:"Artikel",number:"Nummer",amount:"Betrag",quantity:"Menge"},en_AU:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_GB:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},en_US:{buynow:"Buy Now",cart:"Add to Cart",donate:"Donate",subscribe:"Subscribe",item_name:"Item",number:"Number",amount:"Amount",quantity:"Quantity"},es_ES:{buynow:"Comprar ahora",cart:"Añadir al carro",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},es_XC:{buynow:"Comprar ahora",cart:"Añadir al carrito",donate:"Donar",subscribe:"Suscribirse",item_name:"Artículo",number:"Número",amount:"Importe",quantity:"Cantidad"},fr_CA:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_FR:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},fr_XC:{buynow:"Acheter",cart:"Ajouter au panier",donate:"Faire un don",subscribe:"Souscrire",item_name:"Objet",number:"Numéro",amount:"Montant",quantity:"Quantité"},he_IL:{buynow:"וישכע הנק",cart:"תוינקה לסל ףסוה",donate:"םורת",subscribe:"יונמכ ףרטצה",item_name:"טירפ",number:"רפסמ",amount:"םוכס",quantity:"מותכ"},id_ID:{buynow:"Beli Sekarang",cart:"Tambah ke Keranjang",donate:"Donasikan",subscribe:"Berlangganan",item_name:"Barang",number:"Nomor",amount:"Harga",quantity:"Kuantitas"},it_IT:{buynow:"Paga adesso",cart:"Aggiungi al carrello",donate:"Donazione",subscribe:"Iscriviti",item_name:"Oggetto",number:"Numero",amount:"Importo",quantity:"Quantità"},ja_JP:{buynow:"今すぐ購入",cart:"カートに追加",donate:"寄付",subscribe:"購読",item_name:"商品",number:"番号",amount:"価格",quantity:"数量"},nl_NL:{buynow:"Nu kopen",cart:"Aan winkelwagentje toevoegen",donate:"Doneren",subscribe:"Abonneren",item_name:"Item",number:"Nummer",amount:"Bedrag",quantity:"Hoeveelheid"},no_NO:{buynow:"Kjøp nå",cart:"Legg til i kurv",donate:"Doner",subscribe:"Abonner",item_name:"Vare",number:"Nummer",amount:"Beløp",quantity:"Antall"},pl_PL:{buynow:"Kup teraz",cart:"Dodaj do koszyka",donate:"Przekaż darowiznę",subscribe:"Subskrybuj",item_name:"Przedmiot",number:"Numer",amount:"Kwota",quantity:"Ilość"},pt_BR:{buynow:"Comprar agora",cart:"Adicionar ao carrinho",donate:"Doar",subscribe:"Assinar",item_name:"Produto",number:"Número",amount:"Valor",quantity:"Quantidade"},ru_RU:{buynow:"Купить сейчас",cart:"Добавить в корзину",donate:"Пожертвовать",subscribe:"Подписаться",item_name:"Товар",number:"Номер",amount:"Сумма",quantity:"Количество"},sv_SE:{buynow:"Köp nu",cart:"Lägg till i kundvagn",donate:"Donera",subscribe:"Abonnera",item_name:"Objekt",number:"Nummer",amount:"Belopp",quantity:"Antal"},th_TH:{buynow:"ซื้อทันที",cart:"เพิ่มลงตะกร้า",donate:"บริจาค",subscribe:"บอกรับสมาชิก",item_name:"ชื่อสินค้า",number:"รหัสสินค้า",amount:"ราคา",quantity:"จำนวน"},tr_TR:{buynow:"Hemen Alın",cart:"Sepete Ekleyin",donate:"Bağış Yapın",subscribe:"Abone Olun",item_name:"Ürün",number:"Numara",amount:"Tutar",quantity:"Miktar"},zh_CN:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"},zh_HK:{buynow:"立即買",cart:"加入購物車",donate:"捐款",subscribe:"訂用",item_name:"項目",number:"號碼",amount:"金額",quantity:"數量"},zh_TW:{buynow:"立即購",cart:"加到購物車",donate:"捐款",subscribe:"訂閱",item_name:"商品",number:"商品編號",amount:"單價",quantity:"數量"},zh_XC:{buynow:"立即购买",cart:"添加到购物车",donate:"捐赠",subscribe:"租用",item_name:"物品",number:"编号",amount:"金额",quantity:"数量"}};if(PAYPAL.apps.ButtonFactory||(g.config={labels:{}},g.buttons={buynow:0,cart:0,donate:0,qr:0,subscribe:0},g.create=function(a,e,g,h){var i,l,m,n=new f;if(!a)return!1;for(l in e)n.add(k[l]||l,e[l].value,e[l].isEditable);return g=g||"buynow",m="www",n.items.env&&n.items.env.value&&(m+="."+n.items.env.value),"cart"===g?(n.add("cmd","_cart"),n.add("add",!0)):"donate"===g?n.add("cmd","_donations"):"subscribe"===g?(n.add("cmd","_xclick-subscriptions"),n.items.amount&&!n.items.a3&&n.add("a3",n.items.amount.value)):n.add("cmd","_xclick"),n.add("business",a),n.add("bn",j.replace(\/\\{type\\}\/,g)),n.add("env",m),"qr"===g?(i=d(n,n.items.size),n.remove("size")):i=c(n,g),b(),this.buttons[g]+=1,h&&h.appendChild(i),i},PAYPAL.apps.ButtonFactory=g),"undefined"!=typeof a){var m,n,o,p,q,r,s=PAYPAL.apps.ButtonFactory,t=a.getElementsByTagName("script");for(q=0,r=t.length;r>q;q++)m=t[q],m&&m.src&&(n=m&&e(m),o=n&&n.button&&n.button.value,p=m.src.split("?merchant=")[1],p&&(s.create(p,n,o,m.parentNode),m.parentNode.removeChild(m)))}}(document),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PAYPAL);/;"	f
function.gameover	.\js\game-with-friends.js	/^function gameover(){$/;"	f
function.gameover	.\js\game.js	/^function gameover(){$/;"	f
function.getXIndex	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.getYIndex	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.getpath	.\js\game-with-friends.js	/^function getpath(start, goal) {$/;"	f
function.getpath	.\js\game.js	/^function getpath(start, goal) {$/;"	f
function.getpath	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.growTiles	.\js\game-with-friends.js	/^function growTiles() {$/;"	f
function.h	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.handleAnimation	.\js\game-with-friends.js	/^    function handleAnimation() {$/;"	f
function.makeAiMove	.\js\game-with-friends.js	/^function makeAiMove() {$/;"	f
function.makegold	.\js\game-with-friends.js	/^function makegold() {$/;"	f
function.makegold	.\js\game.js	/^function makegold() {$/;"	f
function.postAchievementToFacebook	.\js\game-with-friends.js	/^function postAchievementToFacebook(achievementnumber) {$/;"	f
function.postAchievementToFacebook	.\js\game.js	/^function postAchievementToFacebook(achievementnumber) {$/;"	f
function.postHighScoreToFacebook	.\js\game-with-friends.js	/^function postHighScoreToFacebook(){$/;"	f
function.postHighScoreToFacebook	.\js\game.js	/^function postHighScoreToFacebook(){$/;"	f
function.postHighScoreToFacebook	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.saveAchievement	.\js\game-with-friends.js	/^function saveAchievement(achievement_number){$/;"	f
function.saveAchievement	.\js\game.js	/^function saveAchievement(achievement_number){$/;"	f
function.saveAchievement	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.saveHighScore	.\js\game-with-friends.js	/^function saveHighScore(){$/;"	f
function.saveHighScore	.\js\game.js	/^function saveHighScore(){$/;"	f
function.saveHighScore	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.showHighScores	.\js\game-with-friends.js	/^function showHighScores(){$/;"	f
function.showHighScores	.\js\game.js	/^function showHighScores(){$/;"	f
function.showMenu	.\js\game-with-friends.js	/^function showMenu() {$/;"	f
function.showScore	.\js\game-with-friends.js	/^function showScore(word, score) {$/;"	f
function.showScore	.\js\game.js	/^function showScore(word, score) {$/;"	f
function.showdonesharingbtn	.\js\game-with-friends.js	/^function showdonesharingbtn() {$/;"	f
function.showdonesharingbtn	.\js\game.js	/^function showdonesharingbtn() {$/;"	f
function.turnEnd.gamedata2d.selected	.\js\game-with-friends.js	/^            gamedata2d[endPos[1]][k] = {'selected': false}$/;"	p
function.turnEnd.gamedata2d.selected	.\js\game-with-friends.js	/^            gamedata2d[k][endPos[0]] = {'selected': false}$/;"	p
function.turnEnd.removeHword	.\js\game-with-friends.js	/^    function removeHword(start, end) {$/;"	f
function.turnEnd.removeVword	.\js\game-with-friends.js	/^    function removeVword(start, end) {$/;"	f
function.unGrowTiles	.\js\game-with-friends.js	/^function unGrowTiles() {$/;"	f
function.unlock	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.unlockHWord	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.unlockVWord	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
function.updateAchievements	.\js\game-with-friends.js	/^function updateAchievements() {$/;"	f
function.updateAchievements	.\js\game.js	/^function updateAchievements() {$/;"	f
game.growth_rate	.\js\game-with-friends.js	/^    'growth_rate': 4,$/;"	p
game.growth_rate	.\js\game.js	/^    'growth_rate': 3,$/;"	p
game.height	.\js\game-with-friends.js	/^    'height': 9,$/;"	p
game.height	.\js\game.js	/^    'height': 9,$/;"	p
game.players_turn	.\js\game-with-friends.js	/^    'players_turn': 1$/;"	p
game.score	.\js\game-with-friends.js	/^    'score': 0,$/;"	p
game.score	.\js\game.js	/^    'score': 0$/;"	p
game.score2	.\js\game-with-friends.js	/^    'score2': 0,$/;"	p
game.startwords	.\js\game-with-friends.js	/^    'startwords': 14,$/;"	p
game.startwords	.\js\game.js	/^    'startwords': 12,$/;"	p
game.width	.\js\game-with-friends.js	/^    'width': 9,$/;"	p
game.width	.\js\game.js	/^    'width': 9,$/;"	p
gamedata	.\js\game-with-friends.js	/^var gamedata = [];$/;"	v
gamedata	.\js\game.js	/^var gamedata = [];$/;"	v
gamedata2d	.\js\game-with-friends.js	/^var gamedata2d = [];$/;"	v
gamedata2d	.\js\game.js	/^var gamedata2d = [];$/;"	v
gamedata2d.selected	.\js\game-with-friends.js	/^    gamedata2d[y][x] = {'selected':false};$/;"	p
gamedata2d.selected	.\js\game.js	/^    gamedata2d[y][x] = {'selected':false};$/;"	p
gamedata2d.selected	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
gameover.showCombo	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
gameover.showDouble	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
gameover.showScore	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
gameover.updateAchievements	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
get	.\main.py	/^    def get(self):$/;"	m	class:AboutHandler
get	.\main.py	/^    def get(self):$/;"	m	class:AchievementsHandler
get	.\main.py	/^    def get(self):$/;"	m	class:BuyHandler
get	.\main.py	/^    def get(self):$/;"	m	class:CampaignHandler
get	.\main.py	/^    def get(self):$/;"	m	class:ContactHandler
get	.\main.py	/^    def get(self):$/;"	m	class:FbHandler
get	.\main.py	/^    def get(self):$/;"	m	class:FriendsHandler
get	.\main.py	/^    def get(self):$/;"	m	class:GameMultiplayerHandler
get	.\main.py	/^    def get(self):$/;"	m	class:GamesHandler
get	.\main.py	/^    def get(self):$/;"	m	class:IsGoldHandler
get	.\main.py	/^    def get(self):$/;"	m	class:LearnEnglishHandler
get	.\main.py	/^    def get(self):$/;"	m	class:LogoutHandler
get	.\main.py	/^    def get(self):$/;"	m	class:MainHandler
get	.\main.py	/^    def get(self):$/;"	m	class:PrivacyHandler
get	.\main.py	/^    def get(self):$/;"	m	class:SaveDifficultyHandler
get	.\main.py	/^    def get(self):$/;"	m	class:SaveLevelsUnlockedHandler
get	.\main.py	/^    def get(self):$/;"	m	class:SaveMuteHandler
get	.\main.py	/^    def get(self):$/;"	m	class:SaveVolumeHandler
get	.\main.py	/^    def get(self):$/;"	m	class:ScoresHandler
get	.\main.py	/^    def get(self):$/;"	m	class:SitemapHandler
get	.\main.py	/^    def get(self):$/;"	m	class:TermsHandler
get	.\main.py	/^    def get(self):$/;"	m	class:TimedHandler
get	.\main.py	/^    def get(self):$/;"	m	class:makeGoldHandler
get	.\main.py	/^    def get(self, level):$/;"	m	class:LevelHandler
get	.\main.py	/^    def get(self, urlkey):$/;"	m	class:EnglishLevelHandler
get	.\tests\test_helpers.py	/^    def get(self, *args, **kwargs):$/;"	m	class:HandlerHelpers
getHighScores	.\Models.py	/^    def getHighScores(cls, user):$/;"	m	class:HighScore
getUserAchievements	.\Models.py	/^    def getUserAchievements(cls, user):$/;"	m	class:Achievement
getXIndex	.\js\game-with-friends.js	/^function getXIndex(imclicked){$/;"	f
getXIndex	.\js\game.js	/^function getXIndex(imclicked){$/;"	f
getYIndex	.\js\game-with-friends.js	/^function getYIndex(imclicked){$/;"	f
getYIndex	.\js\game.js	/^function getYIndex(imclicked){$/;"	f
get_access_token_from_code	.\facebook.py	/^def get_access_token_from_code(code, redirect_uri, app_id, app_secret):$/;"	f
get_app_access_token	.\facebook.py	/^def get_app_access_token(app_id, app_secret):$/;"	f
get_connections	.\facebook.py	/^    def get_connections(self, id, connection_name, **args):$/;"	m	class:GraphAPI
get_date_time	.\utils.py	/^def get_date_time(format="%Y-%m-%d %H:%M:%S", UTC_OFFSET=3):$/;"	f
get_device	.\utils.py	/^def get_device(cls):$/;"	f
get_form	.\tests\test_helpers.py	/^    def get_form(self, url, form_id, expect_fields=None):$/;"	m	class:HandlerHelpers
get_object	.\facebook.py	/^    def get_object(self, id, **args):$/;"	m	class:GraphAPI
get_objects	.\facebook.py	/^    def get_objects(self, ids, **args):$/;"	m	class:GraphAPI
get_sent_messages	.\tests\test_helpers.py	/^    def get_sent_messages(self, to=None, expect_messages=1, reset_mail_stub=True):$/;"	m	class:HandlerHelpers
get_url_from_message	.\tests\test_helpers.py	/^    def get_url_from_message(self, message, pattern):$/;"	m	class:HandlerHelpers
get_user_data_from_session	.\tests\test_helpers.py	/^    def get_user_data_from_session(self):$/;"	m	class:HandlerHelpers
get_user_from_cookie	.\facebook.py	/^def get_user_from_cookie(cookies, app_id, app_secret):$/;"	f
gold	.\Models.py	/^    gold = ndb.IntegerProperty()$/;"	v	class:User
handler	.\js\jquery.blockUI.js	/^		function handler(e) {$/;"	f
handlers	.\paypal.py	/^import wsgiref.handlers$/;"	i
hashing	.\utils.py	/^def hashing(plaintext, salt=""):$/;"	f
hashlib	.\facebook.py	/^import hashlib$/;"	i
hashlib	.\jwt\__init__.py	/^import hashlib$/;"	i
hashlib	.\utils.py	/^import hashlib$/;"	i
header	.\jwt\__init__.py	/^def header(jwt):$/;"	f
hmac	.\facebook.py	/^import hmac$/;"	i
hmac	.\jwt\__init__.py	/^import hmac$/;"	i
httplib	.\facebook.py	/^import httplib$/;"	i
id	.\Models.py	/^    id = ndb.StringProperty(required=True)$/;"	v	class:User
inRequiredWord	.\js\game.js	/^function inRequiredWord(word) {$/;"	f
install	.\js\jquery.blockUI.js	/^		function install(el, opts) {$/;"	f
isRequiredWord	.\js\game.js	/^function isRequiredWord(word) {$/;"	f
is_alphanumeric	.\utils.py	/^def is_alphanumeric(field):$/;"	f
is_email_valid	.\utils.py	/^def is_email_valid(email):$/;"	f
jinja2	.\main.py	/^import jinja2$/;"	i
json	.\facebook.py	/^        from django.utils import simplejson as json$/;"	i
json	.\facebook.py	/^        import json$/;"	i
json	.\facebook.py	/^    import simplejson as json$/;"	i
json	.\jwt\__init__.py	/^    import json$/;"	i
json	.\jwt\__init__.py	/^    import simplejson as json$/;"	i
json	.\main.py	/^import json$/;"	i
jwt	.\main.py	/^import jwt$/;"	i
jwtPostback	.\Models.py	/^    jwtPostback = ndb.TextProperty()$/;"	v	class:Postback
levels_unlocked	.\Models.py	/^    levels_unlocked = ndb.IntegerProperty(default=0)$/;"	v	class:User
loader	.\main.py	/^    loader=jinja2.FileSystemLoader(os.path.dirname(__file__)),$/;"	v
locked_spaces	.\Models.py	/^    locked_spaces = []$/;"	v	class:Level
logging	.\Models.py	/^import logging$/;"	i
logging	.\facebook.py	/^import logging$/;"	i
logging	.\paypal.py	/^import logging$/;"	i
logging	.\utils.py	/^        import logging$/;"	i
login_user	.\tests\test_helpers.py	/^    def login_user(self, username, password):$/;"	m	class:HandlerHelpers
loginmodal	.\macros.html	/^function loginmodal(){$/;"	f
main	.\tests\systest.py	/^import main$/;"	i
main	.\tests\testrunner.py	/^def main(SDK_PATH, TEST_PATH):$/;"	f
makeGoldHandler	.\main.py	/^class makeGoldHandler(BaseHandler):$/;"	c
modal.close	.\js\game-with-friends.js	/^    modal.close = function() {$/;"	f
modal.close	.\js\game.js	/^    modal.close = function() {$/;"	f
moveFromTo	.\js\game-with-friends.js	/^function moveFromTo(start, goal) {$/;"	f
moveFromTo.getAllMovesFrom	.\js\game-with-friends.js	/^function getAllMovesFrom(yxpos) {$/;"	f
moveFromTo.moveTo	.\js\game-with-friends.js	/^function moveTo(imclicked) {$/;"	f
moveTo.turnEnd.b	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
moveTo.turnEnd.g	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
moveTo.turnEnd.gamedata2d.selected	.\js\game.js	/^            gamedata2d[endPos[1]][k] = {'selected': false}$/;"	p
moveTo.turnEnd.gamedata2d.selected	.\js\game.js	/^            gamedata2d[k][endPos[0]] = {'selected': false}$/;"	p
moveTo.turnEnd.gamedata2d.selected	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
moveTo.turnEnd.removeHword	.\js\game.js	/^    function removeHword(start, end) {$/;"	f
moveTo.turnEnd.removeVword	.\js\game.js	/^    function removeVword(start, end) {$/;"	f
mute	.\macros.html	/^    function mute () {$/;"	f
muted	.\Models.py	/^    muted = ndb.IntegerProperty()$/;"	v	class:User
name	.\Models.py	/^    name = ""$/;"	v	class:EnglishLevel
name	.\Models.py	/^    name = ndb.StringProperty()$/;"	v	class:User
name	.\Models.py	/^    name = ndb.TextProperty()$/;"	v	class:Score
ndb	.\Models.py	/^from google.appengine.ext import ndb$/;"	i
network	.\tests\systest.py	/^network = False$/;"	v
newGame	.\js\game-with-friends.js	/^newGame = function () {$/;"	f
newGame	.\js\game.js	/^newGame = function () {$/;"	f
newGame	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	f
numRequiredWordsFound	.\js\game.js	/^var numRequiredWordsFound = 0;$/;"	v
optparse	.\tests\testrunner.py	/^import optparse$/;"	i
orderId	.\Models.py	/^    orderId = ndb.StringProperty()$/;"	v	class:Postback
os	.\Models.py	/^import os$/;"	i
os	.\main.py	/^import os$/;"	i
os	.\paypal.py	/^import os.path$/;"	i
os	.\tests\systest.py	/^import os$/;"	i
os	.\utils.py	/^import os$/;"	i
os	.\ws.py	/^import os$/;"	i
pageBlock	.\js\jquery.blockUI.js	/^		var pageBlock = null;$/;"	v
pageBlockEls	.\js\jquery.blockUI.js	/^		var pageBlockEls = [];$/;"	v
parse_if_int	.\utils.py	/^def parse_if_int(s):$/;"	f
parse_qs	.\facebook.py	/^    from cgi import parse_qs$/;"	i
parse_qs	.\facebook.py	/^    from urlparse import parse_qs$/;"	i
parse_signed_request	.\facebook.py	/^def parse_signed_request(signed_request, app_secret):$/;"	f
parser	.\tests\testrunner.py	/^    parser = optparse.OptionParser(USAGE)$/;"	v
patch	.\tests\systest.py	/^from mock import patch$/;"	i
path	.\paypal.py	/^import os.path$/;"	i
post	.\main.py	/^    def post(self):$/;"	m	class:AboutHandler
post	.\main.py	/^    def post(self):$/;"	m	class:BuyHandler
post	.\main.py	/^    def post(self):$/;"	m	class:CampaignHandler
post	.\main.py	/^    def post(self):$/;"	m	class:ContactHandler
post	.\main.py	/^    def post(self):$/;"	m	class:FbHandler
post	.\main.py	/^    def post(self):$/;"	m	class:FriendsHandler
post	.\main.py	/^    def post(self):$/;"	m	class:GameMultiplayerHandler
post	.\main.py	/^    def post(self):$/;"	m	class:GamesHandler
post	.\main.py	/^    def post(self):$/;"	m	class:MainHandler
post	.\main.py	/^    def post(self):$/;"	m	class:PrivacyHandler
post	.\main.py	/^    def post(self):$/;"	m	class:TermsHandler
post	.\main.py	/^    def post(self):$/;"	m	class:TimedHandler
post	.\main.py	/^    def post(self, level):$/;"	m	class:LevelHandler
post	.\main.py	/^  def post(self):$/;"	m	class:PostbackHandler
post	.\paypal.py	/^    def post(self, user_id):$/;"	m	class:IPNHandler
post	.\tests\test_helpers.py	/^    def post(self, *args, **kwargs):$/;"	m	class:HandlerHelpers
price	.\Models.py	/^    price = ndb.StringProperty()$/;"	v	class:Postback
profile_url	.\Models.py	/^    profile_url = ndb.StringProperty()$/;"	v	class:User
purchase	.\macros.html	/^        function purchase(item) {$/;"	f
put_comment	.\facebook.py	/^    def put_comment(self, object_id, message):$/;"	m	class:GraphAPI
put_like	.\facebook.py	/^    def put_like(self, object_id):$/;"	m	class:GraphAPI
put_object	.\facebook.py	/^    def put_object(self, parent_object, connection_name, **data):$/;"	m	class:GraphAPI
put_photo	.\facebook.py	/^    def put_photo(self, image, message=None, album_id=None, **kwargs):$/;"	m	class:GraphAPI
put_wall_post	.\facebook.py	/^    def put_wall_post(self, message, attachment={}, profile_id="me"):$/;"	m	class:GraphAPI
random	.\utils.py	/^import random$/;"	i
random_string	.\utils.py	/^def random_string(size=6, chars=string.ascii_letters + string.digits):$/;"	f
re	.\tests\test_helpers.py	/^import re$/;"	i
re	.\utils.py	/^import re$/;"	i
read_cookie	.\utils.py	/^def read_cookie(cls, name):$/;"	f
register_activate_login_testuser	.\tests\test_helpers.py	/^    def register_activate_login_testuser(self):$/;"	m	class:HandlerHelpers
register_activate_testuser	.\tests\test_helpers.py	/^    def register_activate_testuser(self):$/;"	m	class:HandlerHelpers
register_testuser	.\tests\test_helpers.py	/^    def register_testuser(self, **kwargs):$/;"	m	class:HandlerHelpers
remove	.\js\jquery.blockUI.js	/^		function remove(el, opts) {$/;"	f
removeRequiredWord	.\js\game.js	/^function removeRequiredWord(word) {$/;"	f
render	.\main.py	/^    def render(self, view_name, extraParams = {}):$/;"	m	class:BaseHandler
request	.\facebook.py	/^    def request(self, path, args=None, post_args=None):$/;"	m	class:GraphAPI
required_words	.\Models.py	/^    required_words = []$/;"	v	class:EnglishLevel
reset	.\js\jquery.blockUI.js	/^		function reset(els,data,opts,el) {$/;"	f
run_wsgi_app	.\Models.py	/^from google.appengine.ext.webapp.util import run_wsgi_app$/;"	i
score	.\Models.py	/^    score = ndb.IntegerProperty(default=0)$/;"	v	class:HighScore
score	.\Models.py	/^    score = ndb.IntegerProperty(default=0)$/;"	v	class:Score
scoreWord.game.growth_rate	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
scoreWord.game.height	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
scoreWord.game.score	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
scoreWord.game.startwords	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
scoreWord.game.width	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
selectWord	.\js\game-with-friends.js	/^function selectWord(imclicked) {$/;"	f
selectWord	.\js\game.js	/^function selectWord(imclicked) {$/;"	f
session	.\main.py	/^    def session(self):$/;"	m	class:BaseHandler
sessions	.\main.py	/^from webapp2_extras import sessions$/;"	i
setUp	.\tests\splintertest.py	/^    def setUp(self):$/;"	m	class:SplinterTest
setUp	.\tests\systest.py	/^    def setUp(self):$/;"	m	class:AppTest
set_device_cookie_and_return_bool	.\utils.py	/^def set_device_cookie_and_return_bool(cls, force=""):$/;"	f
setup	.\js\jquery.blockUI.js	/^	function setup($) {$/;"	f
showChangeDifficultyDialog	.\js\game-with-friends.js	/^function showChangeDifficultyDialog(){$/;"	f
showChangeDifficultyDialog	.\js\game.js	/^function showChangeDifficultyDialog(){$/;"	f
showDouble.getComboScore	.\js\game-with-friends.js	/^function getComboScore(comboCount) {$/;"	f
showHelp	.\facebook.html	/^      function showHelp(){$/;"	f
showHelp	.\games-multiplayer.html	/^      function showHelp(){$/;"	f
showHelp	.\games.html	/^      function showHelp(){$/;"	f
showHelp	.\index.html	/^      function showHelp(){$/;"	f
showHelp	.\multiplayer.html	/^      function showHelp(){$/;"	f
signing_methods	.\jwt\__init__.py	/^signing_methods = {$/;"	v
slugify	.\utils.py	/^def slugify(value):$/;"	f
socket	.\facebook.py	/^import socket$/;"	i
string	.\utils.py	/^import string$/;"	i
submit	.\tests\test_helpers.py	/^    def submit(self, form, expect_error=False, error_message='', error_field='', success_message='', warning_message=''):$/;"	m	class:HandlerHelpers
subscr_cancel	.\paypal.py	/^    def subscr_cancel(self, data):$/;"	m	class:IPNHandler
subscr_eot	.\paypal.py	/^    def subscr_eot(self, data):$/;"	m	class:IPNHandler
subscr_failed	.\paypal.py	/^    def subscr_failed(self, data):$/;"	m	class:IPNHandler
subscr_modify	.\paypal.py	/^    def subscr_modify(self, data):$/;"	m	class:IPNHandler
subscr_payment	.\paypal.py	/^    def subscr_payment(self, data):$/;"	m	class:IPNHandler
subscr_signup	.\paypal.py	/^    def subscr_signup(self, data):$/;"	m	class:IPNHandler
sys	.\tests\testrunner.py	/^import sys$/;"	i
sz	.\js\jquery.blockUI.js	/^		function sz(el, p) {$/;"	f
tearDown	.\tests\splintertest.py	/^    def tearDown(self):$/;"	m	class:SplinterTest
tearDown	.\tests\systest.py	/^    def tearDown(self):$/;"	m	class:AppTest
template	.\Models.py	/^from google.appengine.ext.webapp import template$/;"	i
testAPI	.\macros.html	/^  function testAPI() {$/;"	f
test_helpers	.\tests\systest.py	/^from tests import test_helpers$/;"	i
test_homepage	.\tests\splintertest.py	/^    def test_homepage(self):$/;"	m	class:SplinterTest
test_homepage	.\tests\systest.py	/^    def test_homepage(self):$/;"	m	class:AppTest
testbed	.\tests\systest.py	/^from google.appengine.ext import testbed$/;"	i
time	.\Models.py	/^    time = ndb.DateTimeProperty(auto_now_add=True)$/;"	v	class:Achievement
time	.\Models.py	/^    time = ndb.DateTimeProperty(auto_now_add=True)$/;"	v	class:Postback
time	.\Models.py	/^    time = ndb.DateTimeProperty(auto_now_add=True)$/;"	v	class:Score
time	.\facebook.py	/^import time$/;"	i
time	.\main.py	/^import time$/;"	i
timedMode	.\Models.py	/^    timedMode = ndb.IntegerProperty(default=0)$/;"	v	class:HighScore
timedMode	.\Models.py	/^    timedMode = ndb.IntegerProperty(default=0)$/;"	v	class:Score
timedMode	.\js\game-with-friends.js	/^var timedMode = 0;$/;"	v
timedMode	.\js\game.js	/^var timedMode = 0;$/;"	v
timedelta	.\utils.py	/^from datetime import datetime, timedelta$/;"	i
type	.\Models.py	/^    type = ndb.IntegerProperty()$/;"	v	class:Achievement
unicodedata	.\utils.py	/^import unicodedata$/;"	i
unittest	.\tests\splintertest.py	/^import unittest$/;"	i
unittest	.\tests\systest.py	/^import unittest$/;"	i
unittest2	.\tests\testrunner.py	/^import unittest2$/;"	i
unlock	.\js\game-with-friends.js	/^function unlock(x,y) {$/;"	f
unlock	.\js\game.js	/^function unlock(x,y) {$/;"	f
unlockHWord	.\js\game-with-friends.js	/^function unlockHWord(startpos, endpos) {$/;"	f
unlockHWord	.\js\game.js	/^function unlockHWord(startpos, endpos) {$/;"	f
unlockVWord	.\js\game-with-friends.js	/^function unlockVWord(startpos, endpos) {$/;"	f
unlockVWord	.\js\game.js	/^function unlockVWord(startpos, endpos) {$/;"	f
unmute	.\macros.html	/^    function unmute () {$/;"	f
updateHighScoreFor	.\Models.py	/^    def updateHighScoreFor(cls, user, score, difficulty, timedMode):$/;"	m	class:HighScore
updateRequiredWordsView	.\js\game.js	/^function updateRequiredWordsView(word) {$/;"	f
updateSelectedView	.\js\game-with-friends.js	/^function updateSelectedView(yPos, xPos) {$/;"	f
updated	.\Models.py	/^    updated = ndb.DateTimeProperty(auto_now=True)$/;"	v	class:User
urlkey	.\Models.py	/^    urlkey = ""$/;"	v	class:EnglishLevel
urllib	.\facebook.py	/^import urllib$/;"	i
urllib	.\paypal.py	/^import urllib$/;"	i
urllib2	.\facebook.py	/^import urllib2$/;"	i
urllib2	.\paypal.py	/^import urllib2$/;"	i
user	.\Models.py	/^    user = ndb.KeyProperty(kind=User)$/;"	v	class:Achievement
user	.\Models.py	/^    user = ndb.KeyProperty(kind=User)$/;"	v	class:HighScore
user	.\Models.py	/^    user = ndb.KeyProperty(kind=User)$/;"	v	class:Score
users	.\Models.py	/^from google.appengine.api import users$/;"	i
users	.\main.py	/^from google.appengine.api import users$/;"	i
utils	.\main.py	/^import utils$/;"	i
var.k.left	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
var.k.top	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
verify_ipn	.\paypal.py	/^    def verify_ipn(self, data):$/;"	m	class:IPNHandler
volume	.\Models.py	/^    volume = ndb.FloatProperty()$/;"	v	class:User
webapp	.\Models.py	/^from google.appengine.ext import webapp$/;"	i
webapp2	.\main.py	/^import webapp2$/;"	i
webapp2	.\paypal.py	/^import webapp2$/;"	i
webapp2	.\tests\systest.py	/^import webapp2$/;"	i
webapp2	.\tests\test_helpers.py	/^import webapp2$/;"	i
webapp2	.\utils.py	/^import webapp2$/;"	i
webtest	.\tests\systest.py	/^import webtest$/;"	i
winViaBreakingAllLocks	.\level.html	/^    function winViaBreakingAllLocks() {$/;"	f
word_frequencies.E	.\js\wordutils.js	/^    'E': 12.02,$/;"	p
word_frequencies.E	.\js\ws-min.js	/^(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=\/MSIE\/.test(navigator.userAgent);var f=\/MSIE 6.0\/.test(navigator.userAgent)&&!\/MSIE 8.0\/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(v,t,u,r){var s=j('<div class="growlUI"><\/div>');if(v){s.append("<h1>"+v+"<\/h1>")}if(t){s.append("<h2>"+t+"<\/h2>")}if(u===undefined){u=3000}j.blockUI({message:s,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:r,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.59;j.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:\/^https\/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"><\/iframe>')}else{O=j('<div class="blockUI" style="display:none"><\/div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"><\/div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"<\/div>"}I+='<div class="ui-widget-content ui-dialog-content"><\/div>';I+="<\/div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"><\/div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"><\/div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) \/ 2 - (this.offsetHeight \/ 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(":input:enabled:visible",c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick()}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)\/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)\/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var modal=(function(){var e={},a,c,b,d;e.center=function(){var g,f;g=Math.max($(window).height()-c.outerHeight(),0)\/2;f=Math.max($(window).width()-c.outerWidth(),0)\/2;c.css({top:g+$(window).scrollTop(),left:f+$(window).scrollLeft()})};e.open=function(f){b.empty().append(f.content);c.css({width:f.width||"auto",height:f.height||"auto"});e.center();$(window).bind("resize.modal",e.center);c.show();a.show()};e.close=function(){c.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay" onclick="modal.close()"><\/div>');c=$('<div id="modal"><\/div>');b=$('<div id="content"><\/div>');d=$('<a id="close" href="#">close<\/a>');c.hide();a.hide();c.append(b,d);$(document).ready(function(){$("body").append(a,c)});d.click(function(f){f.preventDefault();e.close()});return e}());var word_frequencies={E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:0.69,X:0.17,Q:0.11,J:0.1,Z:0.07};Object.keys=Object.keys||function(c){var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a};function cdf(c){var b=Object.keys(c);for(var a=1;a<b.length;a++){c[b[a]]=c[b[a]]+c[b[a-1]]}return c}word_cdf=cdf(word_frequencies);function getRandomLetter(){var a=Math.random();var c=Object.keys(word_cdf);for(var b=0;b<c.length;b++){if(a<=word_cdf[c[b]]\/100){return c[b]}}}Array.prototype.shuffle=function(){for(var c=this.length-1;c>0;c--){var a=Math.floor(Math.random()*(c+1));var b=this[c];this[c]=this[a];this[a]=b}return this};function scoreWord(b){var c=0;for(var a=0;a<b.length;a++){c+=Math.ceil((24\/word_frequencies[b[a].toUpperCase()])*145)}return c}String.prototype.reverse=function(){return this.split("").reverse().join("")};var game={width:9,height:9,startwords:12,growth_rate:3,score:0};if(!blocked_spaces){var blocked_spaces={};num_blocked=0}if(!locked_spaces){var locked_spaces={};num_locked=0}var timedMode=0;var EASY=2;var MEDIUM=3;var HARD=4;if(!difficulty){var difficulty=EASY}var comboCounter=0;var gamedata=[];var gamedata2d=[];currentNumWords=game.startwords+game.growth_rate;words={};jQuery.get("\/js\/words.txt",function(b){wordslist=b.split("\\n");for(var a=0;a<wordslist.length;a++){words[wordslist[a]]=1}});function showChangeDifficultyDialog(){var a='<button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button" title="Change difficulty to Medium">Medium<\/button>';if(!achievements.medium){var a='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Easy!"><span class="icon-lock"><\/span>Medium<\/button>'}var b='<button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button" title="Change difficulty to Hard">Hard<\/button>';if(!achievements.hard){var b='<button class="btn btn-large btn-danger btn disabled" type="button" title="Get Over 5000 Points on Medium!"><span class="icon-lock"><\/span>Hard<\/button>'}modal.open({content:'<div id="changedifficulty"><p class="lead">Change difficulty and start a new game?<\/p><button class="btn btn-large btn-danger" onclick="changeDifficulty(EASY)" type="button" title="Change difficulty to Easy">Easy<\/button>'+a+b+"<\/div>"})}function changeDifficulty(b){modal.close();newGame();difficulty=b;var a="Medium";if(difficulty==EASY){a="Easy"}else{if(difficulty==HARD){a="Hard"}}$.ajax({url:"\/savedifficulty",data:{difficulty:difficulty},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){}}});$("#changedifficultybutton").text("Difficulty: "+a)}newGame=function(){if(typeof GAMESAPI==="object"){GAMESAPI.beginGameSession(function(e){},function(e){})}gamedata=[];gamedata2d=[];for(var c=0;c<game.startwords;c++){gamedata.push({letter:getRandomLetter(),selected:false})}for(var c=0;c<game.growth_rate;c++){gamedata.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false})}var b=game.width*game.height-game.startwords-game.growth_rate-num_blocked;for(var c=0;c<b;c++){gamedata.push({selected:false})}gamedata.shuffle();var d=0;for(var c=0;c<game.height;c++){gamedata2d.push([]);for(var a=0;a<game.width;a++){if(locked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true,locked:true})}else{if(blocked_spaces[a+"-"+c]){gamedata2d[c].push({blocked:true})}else{gamedata2d[c].push(gamedata[d++])}}}}game.score=0;comboCounter=0;$("#showscore1").html('<button style="display: none"><\/button>');update()};function unlock(b,c){if(b<0||b>=game.width){return}if(c<0||c>=game.height){return}if(!gamedata2d[c][b].locked){return}gamedata2d[c][b]={selected:false};var a=$("#"+c+"-"+b);a.removeAttr("style");a.removeAttr("id");a.html('<div id="'+c+"-"+b+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>');num_blocked--;num_locked--;if(num_locked<=0){if(typeof winViaBreakingAllLocks=="function"){winViaBreakingAllLocks()}}}function unlockHWord(c,b){unlock(c[0]-1,c[1]);unlock(b[0]+1,b[1]);for(var a=c[0];a<=b[0];a++){unlock(a,c[1]+1);unlock(a,b[1]-1)}}function unlockVWord(c,b){unlock(c[0],c[1]-1);unlock(b[0],b[1]+1);for(var a=c[1];a<=b[1];a++){unlock(c[0]+1,a);unlock(c[0]-1,a)}}function getXIndex(a){return Number(a.id.split("-")[1])}function getYIndex(a){return Number(a.id.split("-")[0])}newGame();selectedXpos=-1;selectedYpos=-1;function selectWord(a){var c=getXIndex(a);var b=getYIndex(a);if(selectedXpos!=-1&&selectedYpos!=-1){gamedata2d[selectedYpos][selectedXpos].selected=false;$("#"+selectedYpos+"-"+selectedXpos).removeClass("btn-warning");$("#"+selectedYpos+"-"+selectedXpos).addClass("btn-danger");if(selectedXpos==c&&selectedYpos==b){selectedXpos=-1;selectedYpos=-1;return}selectedXpos=-1;selectedYpos=-1}gamedata2d[b][c].selected=true;selectedXpos=c;selectedYpos=b;$("#"+b+"-"+c).removeClass("btn-danger");$("#"+b+"-"+c).addClass("btn-warning")}function moveTo(d){var a=[selectedXpos,selectedYpos];var c=getXIndex(d);var b=getYIndex(d);var g=[c,b];var j;try{j=getpath(a,g)}catch(f){return}var i=0;function h(){var e=j.length-1-i;var o=e-1;var m;if(j[e][0]>j[o][0]){m="left";var k={left:"-=60px"}}if(j[e][0]<j[o][0]){m="right";var k={left:"+=60px"}}if(j[e][1]>j[o][1]){m="up";var k={top:"-=57px"}}if(j[e][1]<j[o][1]){m="down";var k={top:"+=57px"}}i++;var n=i>=j.length-1;var l=$("#"+selectedYpos+"-"+selectedXpos);if(!n){l.animate(k,200,h)}if(n){l.animate(k,200,function(){l.css({left:"0px",top:"0px"});var p=gamedata2d[b][c];gamedata2d[b][c]=gamedata2d[selectedYpos][selectedXpos];gamedata2d[selectedYpos][selectedXpos]=p;turnEnd([c,b]);update();$.unblockUI()})}}$.blockUI({message:""});h()}function turnEnd(c){function g(l,i){for(var j=l;j<=i;j++){gamedata2d[c[1]][j]={selected:false}}}function b(l,i){for(var j=l;j<=i;j++){gamedata2d[j][c[0]]={selected:false}}}var f=0;var h=0;var e=false;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(gamedata2d[d][a].halfgrown){gamedata2d[d][a].halfgrown=false}}}numLeft=0;numRight=0;x=c[0];while(x>0){x--;if(!gamedata2d[c[1]][x].letter){break}numLeft++}x=c[0];while(x<game.width-1){x++;if(!gamedata2d[c[1]][x].letter){break}numRight++}startlen=numRight+numLeft+1;maxlen=startlen;hfinder:while(startlen>=difficulty){leftStart=c[0];for(var d=0;d<startlen-1&&leftStart-1>=0;d++){if(!gamedata2d[c[1]][leftStart-1].letter){break}leftStart--}rightStart=leftStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;leftStart<=c[0]&&rightStart<=numRight+c[0];leftStart++,rightStart++){possibleword="";for(var a=leftStart;a<=rightStart;a++){possibleword+=gamedata2d[c[1]][a].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f=1;h=scoreWord(possibleword);game.score+=h;e=true;showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockHWord([leftStart,c[1]],[rightStart,c[1]]);break hfinder}}startlen--}numTop=0;numBottom=0;y=c[1];while(y>0){y--;if(!gamedata2d[y][c[0]].letter){break}numTop++}y=c[1];while(y<game.height-1){y++;if(!gamedata2d[y][c[0]].letter){break}numBottom++}startlen=numBottom+numTop+1;maxlen=startlen;vfinder:while(startlen>=difficulty){topStart=c[1];for(var d=0;d<startlen-1&&topStart-1>=0;d++){if(!gamedata2d[topStart-1][c[0]].letter){break}topStart--}bottomStart=topStart+startlen-1;iterationnumber=(maxlen-startlen)+1;for(;topStart<=c[1]&&bottomStart<=numBottom+c[1];topStart++,bottomStart++){possibleword="";for(var a=topStart;a<=bottomStart;a++){possibleword+=gamedata2d[a][c[0]].letter}possibleword=possibleword.toLowerCase();if(words[possibleword]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword,scoreWord(possibleword))}else{if(words[possibleword.reverse()]){f++;h+=scoreWord(possibleword);game.score+=scoreWord(possibleword);b(topStart,bottomStart);showScore(possibleword.reverse(),scoreWord(possibleword))}}if(f>=1){unlockVWord([c[0],topStart],[c[0],bottomStart]);break vfinder}}startlen--}if(e){g(leftStart,rightStart)}if(f==2){showDouble();game.score+=h}if(f==0){comboCounter=0}else{comboCounter++;if(comboCounter>=2){showCombo()}}gamedata2d[c[1]][c[0]].selected=false;selectedXpos=-1;selectedYpos=-1;numspaces=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){numspaces++}}}if(numspaces<=0){gameover()}growers=[];for(var d=0;d<numspaces-game.growth_rate;d++){growers.push({selected:false})}growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.push({letter:getRandomLetter(),halfgrown:"halfgrown",selected:false});growers.shuffle();currpos=0;for(var d=0;d<game.height;d++){for(var a=0;a<game.width;a++){if(!gamedata2d[d][a].letter&&!gamedata2d[d][a].blocked){if(growers[currpos].letter){gamedata2d[d][a]=growers[currpos]}currpos++}}}}function gameover(){var b=saveHighScore();if(typeof GAMESAPI==="object"){GAMESAPI.endGameSession(function(c){},function(c){})}var a="Congratulations! Your Score: "+game.score+"!";if(b){a="Thats A New Best! Your New High Score: "+game.score+"!"}modal.open({content:'<div id="changedifficulty"><p class="lead">Smashed It!<\/p><p class="lead">'+a+'<\/p><div style="float:left"><button class="btn btn-large btn-primary" onclick="postHighScoreToFacebook()">Post High Score To Facebook!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-success" onclick="changeDifficulty('+difficulty+')" type="button">Play Again!<\/button><\/div><div class="clear"><\/div><\/div>'})}function updateAchievements(){if(!achievements.medium&&game.score>=5000){achievements.medium=true;saveAchievement(1);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Medium Difficulty!<\/p><p class="lead">Only Words With 3 or More Letters on Medium!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(MEDIUM)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Easy!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(MEDIUM)" type="button">Play On Medium!<\/button><\/div><div class="clear"><\/div><\/div>'})}if(!achievements.hard&&game.score>=5000&&difficulty==MEDIUM){achievements.hard=true;saveAchievement(2);modal.open({content:'<div id="changedifficulty"><p class="lead">Congratulations!!<\/p><p class="lead">You Have Unlocked Hard Difficulty!<\/p><p class="lead">Only Words With 4 or More Letters on Hard!<\/p><button class="btn btn-large btn-primary" onclick="postAchievementToFacebook(HARD)" style="margin:20px;">Post Achievement To Facebook!<\/button><div style="float:left"><button class="btn btn-large btn-danger" onclick="modal.close()" type="button">Keep Playing On Medium!<\/button><\/div><div style="float:right"><button class="btn btn-large btn-danger" onclick="changeDifficulty(HARD)" type="button">Play On Hard!<\/button><\/div><div class="clear"><\/div><\/div>'})}}var iteration=0;function showScore(b,c){iteration++;iteration=iteration%4;b=b.toUpperCase();$("#showscore"+iteration+" button").empty();$("#showscore"+iteration).html('<button class="btn btn-large btn-warning" type="button">'+b+". "+c+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})});updateAchievements()}function showDouble(){iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">Double Points!<\/button>');var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function showCombo(){var b=comboCounter*10;game.score+=b;iteration++;iteration=iteration%4;$("#showscore"+iteration+" button").empty();$("#showscore"+iteration+" button").replaceWith('<button class="btn btn-large btn-success" type="button">'+comboCounter+"X Combo "+b+" Points!<\/button>");var a=iteration;$("#showscore"+iteration+" button").animate({top:"-=100px",opacity:0},4000,function(){$("#showscore"+a+" button").css({display:"none"})})}function update(){function a(k,g,f){if(k.locked){return'<span class="icon-lock"><\/span>'}if(k.blocked){return""}var h="";var l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn btn-large btn-link" style="height:26px;" ><\/div>';var e="btn btn-large btn-danger";if(k.selected){e="btn btn-large btn-warning"}if(k.letter){l='<button id="'+g+"-"+f+'" class="'+e+'" onclick="selectWord(this)" type="button">'+k.letter+"<\/button>"}if(k.halfgrown){l='<div id="'+g+"-"+f+'" onclick="moveTo(this)" class="btn-link swap" style="height: 36px;padding-top: 10px;" ><button class="btn btn-small disabled btn-danger swap grower" type="button" >'+k.letter+"<\/button><\/div>"}return l}domtable=[];for(var c=0;c<game.height;c++){domtable.push("<tr>");for(var b=0;b<game.width;b++){var d=gamedata2d[c][b];if(d.blocked){domtable.push('<td id="'+c+"-"+b+'" style="background-color:white">')}else{domtable.push("<td>")}domtable.push(a(d,c,b));domtable.push("<\/td>")}domtable.push("<\/tr>")}$(document).ready(function(){$("#gametable").empty();$("#gametable").replaceWith(domtable.join(""));$("#score button").html("Score: "+game.score)})}function getpath(b,k){var a=[];var g=[];for(var e=0;e<game.height;e++){a.push([]);g.push([]);for(var d=0;d<game.width;d++){a[e].push(false);g[e].push([])}}a[b[1]][b[0]]=true;var h=[b],f=b;while(f){xpos=f[0];ypos=f[1];var c=[];if(xpos>0&&(!gamedata2d[ypos][xpos-1].letter||gamedata2d[ypos][xpos-1].halfgrown)&&!a[ypos][xpos-1]&&!gamedata2d[ypos][xpos-1].blocked){a[ypos][xpos-1]=true;g[ypos][xpos-1]=[xpos,ypos];c.push([xpos-1,ypos])}if(ypos>0&&(!gamedata2d[ypos-1][xpos].letter||gamedata2d[ypos-1][xpos].halfgrown)&&!a[ypos-1][xpos]&&!gamedata2d[ypos-1][xpos].blocked){a[ypos-1][xpos]=true;g[ypos-1][xpos]=[xpos,ypos];c.push([xpos,ypos-1])}if(xpos<game.width-1&&(!gamedata2d[ypos][xpos+1].letter||gamedata2d[ypos][xpos+1].halfgrown)&&!a[ypos][xpos+1]&&!gamedata2d[ypos][xpos+1].blocked){a[ypos][xpos+1]=true;g[ypos][xpos+1]=[xpos,ypos];c.push([xpos+1,ypos])}if(ypos<game.height-1&&(!gamedata2d[ypos+1][xpos].letter||gamedata2d[ypos+1][xpos].halfgrown)&&!a[ypos+1][xpos]&&!gamedata2d[ypos+1][xpos].blocked){a[ypos+1][xpos]=true;g[ypos+1][xpos]=[xpos,ypos];c.push([xpos,ypos+1])}if(c.length!=0){$.each(c,function(j,l){h.push(l)})}f=h.shift();if(f[0]==k[0]&&f[1]==k[1]){backtrace=[f];current=f;while(!(current[0]==b[0]&&current[1]==b[1])){current=g[current[1]][current[0]];backtrace.push(current)}return backtrace}}}function saveHighScore(){if(window.FB){FB.api("\/me\/scores\/","post",{score:game.score},function(a){if(a.error){console.log(a.error)}else{console.log("Score posted to Facebook")}})}if(typeof GAMESAPI==="object"){GAMESAPI.postScore(game.score,function(){},function(){})}$.ajax({url:"\/scores",data:{score:game.score,difficulty:difficulty,timedMode:timedMode},success:function(a){},type:"GET",cache:false,error:function(c,a,b){if(a=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(difficulty==EASY){if(game.score>highscores.easy){highscores.easy=game.score;return true}}else{if(difficulty==MEDIUM){if(game.score>highscores.medium){highscores.medium=game.score;return true}}else{if(game.score>highscores.hard){highscores.hard=game.score;return true}}}return false}function saveAchievement(b){var a=Array();a[0]="";a[1]="http:\/\/www.wordsmashing.com\/achievement-medium.html";a[2]="http:\/\/www.wordsmashing.com\/achievement-hard.html";a[2]="http:\/\/www.wordsmashing.com\/achievement150.html";a[3]="http:\/\/www.wordsmashing.com\/achievement200.html";a[4]="http:\/\/www.wordsmashing.com\/achievementx3.html";$.ajax({url:"\/achievements",data:{achievement:b},success:function(c){},type:"GET",cache:false,error:function(e,c,d){if(c=="parsererror"){console.log("JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}});if(window.FB){FB.api("\/me\/scores\/","post",{achievement:a[b]},function(c){if(c.error){console.log(c.error)}else{console.log("Achievement posted")}})}}function postHighScoreToFacebook(){if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Got a High Score of "+game.score+"!",description:"Come play the challenging new word puzzle at WordSmashing.com!"},function(a){if(a&&a.post_id){}else{}})}}function postAchievementToFacebook(a){if(a==MEDIUM){achievementname="Medium"}else{if(a==HARD){achievementname="Hard"}else{return}}if(window.FB){FB.ui({method:"feed",name:"Word Smashing",link:"http:\/\/apps.facebook.com\/wordsmashing",picture:"http:\/\/www.wordsmashing.com\/img\/wordsmashing_logo155x100.png",caption:"Unlocked "+achievementname+" Difficulty on Word Smashing!",description:"Come Play the Challenging new Word Puzzle at WordSmashing.com!"},function(b){if(b&&b.post_id){}else{}})}}function showHighScores(){if(!highscores.medium){highscores.medium=0}if(!highscores.easy){highscores.easy=0}if(!highscores.hard){highscores.hard=0}modal.open({content:'<div id="highscores-modal"><p class="lead">Your High Scores<\/p><p class="lead">Easy: '+highscores.easy+'<\/p><p class="lead">Medium: '+highscores.medium+'<\/p><p class="lead">Hard: '+highscores.hard+"<\/p><\/div>"})};/;"	p
write_cookie	.\utils.py	/^def write_cookie(cls, COOKIE_NAME, COOKIE_VALUE, path, expires=7200):$/;"	f
ws	.\main.py	/^from ws import ws$/;"	i
ws	.\paypal.py	/^from ws import ws$/;"	i
ws	.\ws.py	/^class ws(object):$/;"	c
wsgiref	.\paypal.py	/^import wsgiref.handlers$/;"	i
